# -*- coding: utf-8 -*-
"""Forest Fire Prediction ML (India)ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1PFh2fNTxTgr73RKWG9YE14OCoHgmBTkK
"""

import pandas as pd

import numpy as np

import plotly.express as px

import plotly.graph_objects as go

import seaborn as sns

import matplotlib.pyplot as plt

# Commented out IPython magic to ensure Python compatibility.
# % matplotlib inline

import math

forest_fires_data=pd.read_csv('/content/sample_data/datafile.csv')

forest_fires_data.head(10)

print("Number of states in India : " +str(len(forest_fires_data.index)))

"""# ***Analyzing  data***"""

forest_fires_data["2010-2011"].plot.hist(color="orange", bins=20,figsize=(10,5))

forest_fires_data["2009-10"].plot.hist(color="orange", bins=20,figsize=(10,5))

forest_fires_data["2008-09"].plot.hist(color="orange", bins=20,figsize=(10,5))

forest_fires_data.info()

"""# **Data Wrangling**"""

forest_fires_data.isnull()

forest_fires_data.isnull().sum()

forest_fires_data['Wildfires % 2008-2009 to 2009-2010 '] = (forest_fires_data['2009-10']-forest_fires_data['2008-09'])/forest_fires_data['2008-09']
forest_fires_data['Wildfires % 2009-2010 to 2010-2011'] = (forest_fires_data['2010-2011']-forest_fires_data['2009-10'])/forest_fires_data['2009-10']
forest_fires_data.fillna(0, inplace=True)

import warnings

warnings.filterwarnings('ignore')

first = forest_fires_data[['2010-2011', 'States/UTs', 'Wildfires % 2008-2009 to 2009-2010 ', 'Wildfires % 2009-2010 to 2010-2011']]
first.loc[:,'Year'] = '2010-11'
first.columns = ['Fires', 'States/UTs', 'Wildfires % 2008-2009 to 2009-2010', 'Wildfires % 2009-2010 to 2010-2011', 'Year']

second = forest_fires_data[['2009-10', 'States/UTs', 'Wildfires % 2008-2009 to 2009-2010 ', 'Wildfires % 2009-2010 to 2010-2011']]
second.loc[:,'Year'] = '2009-10'
second.columns = ['Fires', 'States/UTs', 'Wildfires % 2008-2009 to 2009-2010', 'Wildfires % 2009-2010 to 2010-2011', 'Year']

third = forest_fires_data[['2008-09', 'States/UTs', 'Wildfires % 2008-2009 to 2009-2010 ', 'Wildfires % 2009-2010 to 2010-2011']]
third.loc[:,'Year'] = '2008-09'
third.columns = ['Fires', 'States/UTs', 'Wildfires % 2008-2009 to 2009-2010', 'Wildfires % 2009-2010 to 2010-2011', 'Year']


Wildfires = pd.concat([first,second,third])
del first,second,third

Wildfires.head(35)

px.line(Wildfires, 'States/UTs', 'Fires', color='Year', title='Fires in States throughout Years')

labels = '2010-2011', '2009-10', '2008-09'
sizes = [397.085714, 882.628571, 694.514286]
colors = ['Red', 'blue', 'yellow']
explode = (0.025, 0.025, 0.025)  # explode 1st slice

# Plot
plt.pie(sizes, explode=explode, labels=labels, colors=colors,
autopct='%1.1f%%', shadow=True, startangle=140)

plt.axis('equal')
plt.show()

sns.heatmap(Wildfires.isnull(),yticklabels=False, cbar=False)

Wildfires.isnull().sum()